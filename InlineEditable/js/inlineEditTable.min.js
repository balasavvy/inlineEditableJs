!function(a){a.fn.inlineEdiTable=function(b){var d,f,c=a.extend({customColumns:"",customdata:"",addCallback:function(){},editCallback:function(){},deleteCallback:function(){},cancelCallback:function(){},saveCallback:function(){},disableCoumntoEdit:{},editBtn:"false",deleteBtn:"false",addBtn:"false",scrollStatus:"false",scroll:null,pagination:"false",rowsConatiner:"",paginationConatiner:"",itemsCount:7,isDisabled:!1,currentPage:1,pageSize:2,allPagesLabel:"All",firstPageLabel:"<<",lastPageLabel:">>",nextPageLabel:">",previousPageLabel:"<"},b),e={},g={},h=[],j=[];return this.each(function(b){function n(a){j=a}function o(a){return j=a?c.customdata[a]:c.customdata}function p(a){if(a){var b=a.replace(/ /g,"_");return b=b.replace(/^_+|_+$/g,""),b=b.trim(),b=b.replace(/[^a-zA-Z0-9_+ ]/gi,""),b=b.replace(/_+/g,"_"),b.toUpperCase()}}function q(a){h=a}function r(){return h}function y(b){var c;return a.each(r(),function(a,d){b==d.name&&(c=d.fieldType)}),c}function z(b){var c=[];return a.each(r(),function(a,d){b==d.name&&(c=d.fieldValues)}),c}function A(e,g,h){d=e,B(d),q(g),n(h);var i=o(),j=r(),k="",l="";k+="<thead>\n<tr>",a.each(j,function(a,b){k+="Add"==b.displayName?"true"==c.addBtn?'<th width="" class="addbtn"><a href="javascript:void(0);"><div  data-tab="'+d+'">Add</div></a></th>':'<th width="">-</th>':'<th width="">'+b.displayName+"</th>"}),k+="</tr>\n</thead>",a(d).append(k),l+="<tbody>";for(key in i){l+='<tr class="rows" data-id="'+key+'">';for(subkey in i[key]){var m=y(subkey);switch(m){case"checkbox":var p="";if(1==i[key][subkey])var p="checked";l+='<td class="text-center"><input type="checkbox" data-field="'+subkey+'" disabled '+p+" /></td>";break;case"select":var s="",t="",u=z(subkey);a.each(u,function(a,b){b[0]==i[key][subkey]&&(s=u[a][1],t=u[a][0])}),l+='<td><span class="field" data-field="'+subkey+'">'+s+'</span><select class="form-control input-sm" data-field="'+subkey+'" style="display:none;">';var v=T(i[key][subkey],key,u);l+=v+"</select></td>";break;case"datetimepicker":l+='<td><span class="field" data-field="'+subkey+'">'+i[key][subkey]+'</span><div class="input-group date dynamicDate"  style="display:none"><input type="text" class="form-control" data-field="'+subkey+'" value="" placeholder="MM - DD - YYYY"><span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span></div></td>';break;default:l+='<td><span class="field" data-field="'+subkey+'">'+i[key][subkey]+'</span><input type="text" class="form-control input-sm" data-field="'+subkey+'" value="'+i[key][subkey]+'" style="display:none;" /></td>'}}l+="true"==c.editBtn&&"true"==c.deleteBtn?'<td class="text-center"><button style="border:none;background:transparent" class=" text-primary text-bold text-underline" data-edit="'+key+'">Edit</button><button style="border:none;background:transparent" class="text-underline text-primary text-bold" data-delete="'+key+'">Delete</button><button  class="text-underline text-primary text-bold" style="display:none;border:none;background:transparent" data-save="'+key+'">Save</span></button><button class="text-underline text-primary text-bold" style="display:none;border:none;background:transparent" data-cancel="'+key+'">Cancel</button></td>':"true"==c.editBtn?'<td class="text-center"><button style="border:none;background:transparent" class=" text-primary text-bold text-underline" data-edit="'+key+'">Edit<button  class="text-underline text-primary text-bold" style="display:none;border:none;background:transparent" data-save="'+key+'">Save</span></button><button class="text-underline text-primary text-bold" style="display:none;border:none;background:transparent" data-cancel="'+key+'">Cancel</button></td>':'<td class="text-center"><button style="border:none;background:transparent" class="text-underline text-primary text-bold" data-delete="'+key+'">Delete</button><button  class="text-underline text-primary text-bold savebtn" style="display:none;border:none;background:transparent" data-save="'+key+'">Save</span></button><button class="text-underline text-primary text-bold" style="display:none;border:none;background:transparent" data-cancel="'+key+'">Cancel</button></td>',l+="</tr>"}l+="</tbody>",a(d).append(l);var w=i.length;if(f=w,G(),"true"==c.pagination){var x=a(d).next(c.paginationConatiner).attr("id");if("undefined"==x||""==x);else{a("#"+x).html(getRenderedPager(d)),$pagesContainer=a("#"+x).find(".pagination"+b);var A=a("#"+x).find(".pagination"+b).find("li.pageNumber > a").length;$pagesContainer.on("click","li a",{target:d,paginationUi:$pagesContainer,paginationLi:A,paginationId:x},onPageClick),toggleElements(x,d,A),process(d)}}}function B(b){a(b).empty()}function D(b,c){var f=J(b);if("save"==c){isNaN(b)?f.actionType="Add":f.actionType="Update";for(xkey in f){var g=z(xkey);g.length>0?(a.each(g,function(a,b){b[0]==f[xkey]&&(fieldTypeName=g[a][1],fieldTypeVal=g[a][0])}),a(d+' tr[data-id="'+b+'"] .field[data-field="'+xkey+'"]').html(fieldTypeName)):a(d+' tr[data-id="'+b+'"] .field[data-field="'+xkey+'"]').html(f[xkey])}}"delete"==c&&(f.actionType="Delete",a(d+' tr[data-id="'+b+'"]').remove()),isNaN(b)&&"delete"==c?delete e[b]:"cancel"!=c&&(e[b]=f),console.log(e),"cancel"==c&&K(b)}function E(b,e){a(d+' tr[data-id="'+b+'"] td button[data-edit]').toggle(),a(d+' tr[data-id="'+b+'"] td button[data-delete]').toggle(),a(d+' tr[data-id="'+b+'"] td button[data-save]').toggle(),a(d+' tr[data-id="'+b+'"] td button[data-cancel]').toggle(),a(d+' tr[data-id="'+b+'"] td').children('input:not([type="checkbox"])').toggle(),a(d+' tr[data-id="'+b+'"] td').children("select").toggle(),a(d+' tr[data-id="'+b+'"] td').children(".dynamicDate").toggle(),a(d+' tr[data-id="'+b+'"] td').children("span.field").toggle();var f=r();a.each(f,function(f,g){"actions"!=g.name&&a.each(c.disableCoumntoEdit.name,function(f){c.disableCoumntoEdit.name[f]==g.name&&"edit"==e&&(a(d+' tr[data-id="'+b+'"] td input[data-field="'+g.name+'"]').prop({readonly:!0}).prop("disabled","true"),a(d+' tr[data-id="'+b+'"] td select[data-field="'+g.name+'"]').attr("readonly","readonly"),a(d+' tr[data-id="'+b+'"] td select[data-field="'+g.name+'"]').prop("disabled","true")),"checkbox"==g.fieldType&&("edit"==e?c.disableCoumntoEdit.name[f]==g.name?a(d+' tr[data-id="'+b+'"] td input[data-field="'+g.name+'"]').prop({disabled:!0}):a(d+' tr[data-id="'+b+'"] td input[data-field="'+g.name+'"]').prop({disabled:!1}):a(d+' tr[data-id="'+b+'"] td input[data-field="'+g.name+'"]').prop({disabled:!0}))})})}function F(a,b,c){switch(c){case"edit":E(a,c),g=J(a),L(d);break;case"delete":D(a,c),E(a,c);break;case"save":D(a,c),E(a,c),M(d);break;case"cancel":D(a,c),E(a,c),M(d)}}function G(b){a(d+" select").on("change",function(b){b.preventDefault();a(this).parent().parent().data("id")}),a(d+' input[data-field="fieldName"]').on("focusout",function(b){var c=a(this).val();c=p(c),a(this).val(c)}),a("body").on("click",d+" button[data-edit]",function(b){b.preventDefault(),c.editCallback&&c.editCallback.call(),a(".dynamicDate").trigger("click");var d=a(this).data("edit");F(d,a(this),"edit")}),a("body").on("click",d+" button[data-delete]",function(b){b.preventDefault(),c.deleteCallback&&c.deleteCallback.call();var d=a(this).data("delete");F(d,a(this),"delete")}),a("body").on("click",d+" button[data-cancel]",function(b){b.preventDefault(),c.cancelCallback&&c.cancelCallback.call();var e=a(this).data("cancel"),g=(a(this).parents("tr"),a(this).parents("tr").find("input")),h=a(this).parents("tr").find("select");g.filter(function(){return""===a.trim(this.value)}),h.filter(function(){return""===a.trim(this.value)});a(d+' tr.newRow[data-id="'+e+'"] ').remove(),F(e,a(this),"cancel")}),a("body").on("click",d+" button[data-save]",function(b){b.preventDefault(),c.saveCallback&&c.saveCallback.call(),console.log("inside save"),a(".dynamicDate").trigger("click"),a(this).parents("tr").removeClass("newRow");var d=a(this).data("save");F(d,a(this),"save"),O()})}function H(b,c){a("#"+c).empty(),a(b).find("tr.rows").show()}function I(d,e){c.addCallback&&c.addCallback.call();var g=r(),h="";f+=1;var i="N"+f;if(h+='<tr class="rows newRow" data-id="'+i+'">',a.each(g,function(a,b){if("actions"!=b.name)switch(b.fieldType){case"checkbox":h+='<td class="text-center"><input type="checkbox" data-field="'+b.name+'" disabled /></td>';break;case"select":var c=z(b.name);h+='<td><span class="field" data-field="'+b.name+'"></span><select class="form-control input-sm" data-field="'+b.name+'" style="display:none;">';var d=T("",i,c);h+=d+"</select></td>";break;case"datetimepicker":h+='<td><span class="field" data-field="'+b.name+'"></span><div class="input-group date dynamicDate" id="fromDateClinic1'+a+'" style="display:none"><input type="text" class="form-control" data-field="'+b.name+'" value="" placeholder="MM - DD - YYYY"><span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span></div></td>';break;default:h+='<td><span class="field" data-field="'+b.name+'"></span><input type="text" class="form-control input-sm" data-field="'+b.name+'" value="" style="display:none;" /></td>'}}),h+='<td class="text-center"><button style="border:none;background:transparent" class="text-underline text-primary text-bold" data-edit="'+i+'">Edit</button><button style="border:none;background:transparent" class="text-underline text-primary text-bold" data-delete="'+i+'">Delete</button><button  class="text-underline text-primary text-bold savebtn" style="display:none;border:none;background:transparent" data-save="'+i+'">Save</button><button class="text-underline text-primary text-bold" style="display:none;border:none;background:transparent" data-cancel="'+i+'">Cancel</button></td>',h+="</tr>","false"==c.pagination)a(d).append(h);else{a(d).prepend(h);var j=a(d).next(c.paginationConatiner).attr("id");if("undefined"==j||""==j);else{a("#"+j).html(getRenderedPager(d)),$pagesContainer=a("#"+j).find(".pagination"+b);var k=a("#"+j).find(".pagination"+b).find("li.pageNumber > a").length;$pagesContainer.on("click","li a",{target:d,paginationUi:$pagesContainer,paginationLi:k,paginationId:j},onPageClick),toggleElements(j,d,k),process(d)}}"true"==c.pagination,a(".dynamicDate").trigger("click"),F(i,this,"edit")}function J(b){var c={},e=r();return a.each(e,function(e,f){if("actions"!=f.name)switch(f.fieldType){case"checkbox":c[f.name]=a(d+' tr[data-id="'+b+'"] input[data-field="'+f.name+'"]').is(":checked");break;case"select":c[f.name]=a(d+' tr[data-id="'+b+'"] select[data-field="'+f.name+'"] option:selected').val();break;case"datetimepicker":c[f.name]=a(d+' tr[data-id="'+b+'"] input[data-field="'+f.name+'"]').val();break;default:c[f.name]=a(d+' tr[data-id="'+b+'"] input[data-field="'+f.name+'"]').val()}}),c}function K(b){var c=r();a.each(c,function(c,e){switch(e.fieldType){case"checkbox":a(d+' tr[data-id="'+b+'"] input[data-field="'+e.name+'"]').prop("checked",g[e.name]);break;case"select":a(d+' tr[data-id="'+b+'"] select[data-field="'+e.name+'"]').val(g[e.name]);break;case"datetimeticker":a(d+' tr[data-id="'+b+'"] input[data-field="'+e.name+'"]').val(g[e.name]);break;default:a(d+' tr[data-id="'+b+'"] input[data-field="'+e.name+'"]').val(g[e.name])}})}function L(b){a(b+" .addbtn").prop("disabled",!0),a("button[data-edit]").prop("disabled",!0)}function M(b){a(b+" .addbtn").prop("disabled",!1),a("button[data-edit]").prop("disabled",!1)}function O(){var f=new Array;return a.each(e,function(e,g){if("Add"==g.actionType){f.push(g);var h=a(d).parent("div").next(c.paginationConatiner).attr("id");if(H(d,h),console.log(f),"true"==c.pagination){var i=a(d).parent("div").next(c.paginationConatiner).attr("id");if("undefined"==i||""==i);else{getPagesCount(d);a("#"+i).html(getRenderedPager(d)),$pagesContainer=a("#"+i).find(".pagination"+b);var k=a("#"+i).find(".pagination"+b).find("li.pageNumber > a").length;$pagesContainer.on("click","li a",{target:d,paginationUi:$pagesContainer,paginationLi:k,paginationId:i},onPageClick),toggleElements(i,d,k),process(d)}}}}),f}function S(){a("button[data-cancel]").tooltip({placement:"top",title:"Cancel",delay:{show:800,hide:0}}),a("button[data-edit]").tooltip({placement:"top",title:"Edit",delay:{show:800,hide:0}}),a("button[data-save]").tooltip({placement:"top",title:"Save",delay:{show:800,hide:0}}),a("button[data-delete]").tooltip({placement:"top",title:"Delete",delay:{show:800,hide:0}})}function T(a,b,c){var d=c,e="",f=d.length;for(b>2&&(f-=1),i=0;i<f;i++)e+=d[i][0]==a?'<option value="'+d[i][0]+'" selected>'+d[i][1]+"</option>":'<option value="'+d[i][0]+'">'+d[i][1]+"</option>";return e}a(this);S();var l=a(this).attr("id"),m="#"+l,u=(c.paginationConatiner,-1),v=-2,w=-3,x=-4;getRenderedPager=function(a){return'<ul class="pagination pagination'+b+'">'+getRenderedPageNumbers(a)+"</ul>"},getRenderedPageNumbers=function(b){var e,d=getPageNumbersToDisplay(b);return e='<li ><a data-page="'+w+'" ><span aria-hidden="true">'+c.firstPageLabel+'</span></a></li><li ><a data-page="'+u+'"><span aria-hidden="true">'+c.previousPageLabel+'</span></a></li><li class="pageNumber">',a.each(d,function(a,b){e+=' <a data-page="'+b+'" '+(b===c.currentPage?'class="active pagination-active"':"")+">"+b+"</a>"}),e+='</li><li ><a data-page="'+v+'"><span aria-hidden="true">'+c.nextPageLabel+'</span></a></li><li ><a data-page="'+x+'"><span aria-hidden="true">'+c.lastPageLabel+"</span></a></li>"},toggleElements=function(b,d,e){var g=(a("#"+b),getPagesCount(d));a(d).next(a("#"+b)).find('a[data-page="'+u+'"]').addClass("pagination-arrow text-normal").parents("li").toggleClass("disabled",1===c.currentPage),a(d).next(a("#"+b)).find('a[data-page="'+v+'"]').addClass("pagination-arrow text-normal").parents("li").toggleClass("disabled",c.currentPage===g),a(d).next(a("#"+b)).find('a[data-page="'+w+'"]').addClass("pagination-arrow text-normal").parents("li").toggleClass("disabled",1===c.currentPage),a(d).next(a("#"+b)).find('a[data-page="'+x+'"]').addClass("pagination-arrow text-normal").parents("li").toggleClass("disabled",c.currentPage===g)},onPageClick=function(b){var d=b.data.target,e=b.data.paginationId,f=b.data.paginationUi,g=b.data.paginationLi,h=a(this),i=h.data("page");if(!c.isDisabled&&!h.hasClass("active")){switch(i){case u:goPreviousPage(f,d);break;case v:goNextPage(f,d);break;case w:goToFirstPage(f,d);break;case x:goToLastPage(f,d);break;default:goToPage(i,d,f)}toggleElements(e,d,g)}},getPageNumbersToDisplay=function(a){var d,b=[],e=5,f=1,g=getPagesCount(a);for(g<5&&(e=g),d=1===c.currentPage||2===c.currentPage?1:c.currentPage===g?c.currentPage-(e-1):g-c.currentPage===1&&g>=5?c.currentPage-3:c.currentPage-2;f<=e;)b.push(d++),f++;return b},getPagesCount=function(b){var d=a(b+" tr").length-1;return Math.ceil(d/c.pageSize)},goNextPage=function(a,b){c.currentPage<getPagesCount(b)&&(c.currentPage++,reRenderPageNumbers(a,b),process(b))},goPreviousPage=function(a,b){c.currentPage>1&&(c.currentPage--,reRenderPageNumbers(a,b),process(b))},goToFirstPage=function(b,d){var e=a(d).next(b).find(".pageNumber").children().length;c.currentPage=e,1!==c.currentPage&&goToPage(1,d,b)},goToLastPage=function(a,b){var d=getPagesCount(b);c.currentPage=1,c.currentPage!==d&&goToPage(d,b,a)},goToPage=function(a,b,d){c.currentPage=a,reRenderPageNumbers(d,b),process(b)},reRenderPageNumbers=function(b,c){a(b).html(getRenderedPageNumbers(c))},changePageSize=function(a){c.pageSize=a,goToPage(1)},process=function(b){var d=c.pageSize*(c.currentPage-1),e=d+c.pageSize;a(b).find("tr.rows").length;a(b).find("tr.rows").hide();for(var g=d;g<e;g++)a(b).find("tr.rows").eq(g).show()},a(m).prev("button").click(function(){var b=a(d).parent("div").next(c.paginationConatiner).attr("id");I(m,b)}),A(m,c.customColumns,c.customdata)})}}(jQuery);